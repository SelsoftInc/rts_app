<ng-progress [positionUsing]="'marginLeft'" [minimum]="0.15" [maximum]="1" [speed]="200" [showSpinner]="false"
  [direction]="'leftToRightIncreased'" [color]="'red'" [trickleSpeed]="250" [thick]="false" [ease]="'linear'">
</ng-progress>

<h2 class="main-title"> <a [routerLink]="['/time-sheet']">Time Sheet</a> / Time Sheet Report</h2>
<div class="utility-container">
  <div class="row">
    <div class="col-10">
      <div class="row mt-2">
        <div class="col-3">
          <mat-form-field>
            <input matInput [matDatepicker]="fromDatePicker" [(ngModel)]="startDate" placeholder="From Date">
            <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
            <mat-datepicker #fromDatePicker></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field>
            <input matInput [matDatepicker]="toDate" [(ngModel)]="currentDate" placeholder="To Date">
            <mat-datepicker-toggle matSuffix [for]="toDate"></mat-datepicker-toggle>
            <mat-datepicker #toDate></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-2">
          <mat-form-field>
            <mat-label>Select User</mat-label>
            <mat-select [(ngModel)]="selectedUser" (selectionChange)="selectUser($event.value);">
              <mat-option *ngFor="let user of userDetails" [value]="user.userId">
                {{user.firstName}} {{user.lastName}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-4 mt-3">
          <button class="btn btn-sm btn-primary btn-space" (click)="dateFilter();">Show Results</button>
          <button *ngIf="selectedTimeSheetLength > 0" class=" btn btn-sm btn-primary ml-2"
            (click)="getTimeSheetReport();">Download
            Report</button>
        </div>
      </div>
    </div>
  </div>

  <table class="table table-bordered table-sm table-hover">
    <thead class="table-header">
      <tr>
        <th>Date</th>
        <th>Working Hours</th>
        <th>Productivity Hours</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let sheet of selectedTimeSheet">
        <td>{{sheet.dateId}}</td>
        <td>{{sheet.workingHoursStr}}</td>
        <td>{{sheet.productivityHoursStr}}</td>
      </tr>
    </tbody>
  </table>
</div>
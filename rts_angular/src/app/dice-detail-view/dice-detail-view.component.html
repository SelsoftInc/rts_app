<h2 class="main-title">
  <a [routerLink]="['/dice-view']">Dice</a> / Dice Candidate</h2>
<ng-progress [positionUsing]="'marginLeft'" [minimum]="0.15" [maximum]="1" [speed]="200" [showSpinner]="false"
  [direction]="'leftToRightIncreased'" [color]="'red'" [trickleSpeed]="250" [thick]="false" [ease]="'linear'">
</ng-progress>
<div class="center">
  <mat-card class="card-container mb-2" *ngIf="selectedCandidate">
    <div class="candidate-title">
      <h4>{{selectedCandidate.fullName}} <span class="candidate-subtitle">{{selectedCandidate.currentJobTitle}}</span>
        <span *ngFor="let socialMedia of selectedCandidate.socialProfiles">
          <img mat-card-sm-image src="{{socialMedia.icon_64}}">
        </span>
        <button class="candidate-id" mat-button ngxClipboard
          [cbContent]="selectedCandidate.id">{{selectedCandidate.id}}</button>
      </h4>
    </div>
    <div class="row">
      <div class="col-9">
        <mat-card-header class="candidate-header">
          <div mat-card-avatar class="candidate-image">
            <span *ngIf="selectedCandidate.imageUrl; else noImage">
              <img mat-card-lg-image src="{{selectedCandidate.imageUrl}}">
            </span>
            <ng-template #noImage>
              <img mat-card-lg-image src="https://mhcd.org/wp-content/uploads/2017/12/placeholder-man.png">
            </ng-template>
          </div>
          <!-- <mat-card-title class="candidate-name">Raghul
          </mat-card-title> -->

          <mat-card-subtitle class="candidate-name">
            <div class="row">
              <div class="col-8">
                <div class="row">
                  <div class="col-4" style="display:contents;">
                    <i class="material-icons icon-exp pl-2"> work_outline
                    </i> <strong style="padding-top: 4px; font-weight: 100;">Previous:</strong>
                  </div>
                  <div class="col-8" style="padding-top: 5px;">
                    <span
                      *ngFor="let previousWork of selectedCandidate.experience.history">{{previousWork.title}}<br /></span>
                  </div>
                </div>
                <div class="row pt-4">
                  <div class="col-4" style="display:contents;">
                    <i class="material-icons icon-exp pl-2"> work_outline
                    </i> <strong style="padding-top: 4px; font-weight: 100;">Preferred:</strong>
                  </div>
                  <div class="col-8" style="padding-top: 5px;">
                    <span>{{selectedCandidate.desiredJobTitles[0]}}<br /></span>
                  </div>
                </div>
                <div class="row pt-2">
                  <div class="col-4" style="display:contents;">
                    <i class="fa fa-map-marker pl-2 pr-2 pt-2" style="font-size:17px">
                    </i> <strong style="padding-top: 4px; font-weight: 100;">Location:</strong>
                  </div>
                  <div class="col-8" style="padding-top: 5px;">
                    <span>{{selectedCandidate.locations[0].city}}, {{selectedCandidate.locations[0].country}},
                      {{selectedCandidate.locations[0].countryCode}}<br /></span>
                  </div>
                </div>

              </div>
              <div class="col-4">
                <div class="row">
                  <i class="material-icons icon-exp"> event_note </i>
                  {{selectedCandidate.yearsOfExperience}} years exp <br />
                </div>
                <div class="row pt-2">
                  <i class="fa fa-money pr-2" style="font-size:18px"></i>
                  <span *ngIf="selectedCandidate.workPreferences[0].annualSalary; else noSalary">
                    {{selectedCandidate.workPreferences[0].annualSalary.min}}+(USD) /yr </span>
                  <ng-template #noSalary>
                    No desired salary disclosed
                  </ng-template><br />
                </div>
                <div class="row pt-2">
                  <i class="fa fa-map-o pr-2" style="font-size:17px"></i>
                  <span *ngIf="selectedCandidate.workPreferences[0].willingToRelocate; else notRelocate">Willing to
                    relocate</span>
                  <ng-template #notRelocate>
                    Not willing to relocate
                  </ng-template><br />
                </div>
                <div class="row pt-4">
                  <i class="fa fa-globe pr-2" style="font-size:17px"> </i>
                  <strong style="font-weight: 100;">Work Auth:</strong>
                  {{selectedCandidate.workPermitLocations[0]}}<br />
                </div>
                <div class="row pt-2">
                  <i class="fa fa-file-text-o pr-2" style="font-size:17px"></i>
                  <strong style="font-weight: 100;">Work Documents:</strong>
                  {{selectedCandidate.workPermitDocuments[0]}}<br />
                </div>
              </div>
            </div>
            <!-- <div class="row pt-4">
              <section class="slider-section">
                <span class="row">
                  <strong style="font-weight: 100;">Likely to Switch</strong>
                  <mat-progress-bar mode="determinate" value="{{selectedCandidate.likelyToMoveScore}}">
                  </mat-progress-bar>
                </span>
              </section>
            </div> -->
          </mat-card-subtitle>
        </mat-card-header>
      </div>
      <div class="col-3 divide">
        <div class="contact-title"> Contact Details </div>
        <div class="candidate-contact" *ngFor="let contact of selectedCandidate.email">
          <i class="material-icons icon-contact  pt-2"> email </i> {{contact}}
        </div>
        <div class="candidate-contact" *ngFor="let contact of selectedCandidate.phone">
          <i class="material-icons icon-contact pt-2"> phone </i> {{contact}}
        </div>
        <div class="contact-title pt-4"> Candidate Activity </div>
        <div class="candidate-activity"> {{selectedCandidate.firstName}} {{selectedCandidate.dateLastActive | timeAgo}}
        </div>
        <div class="candidate-activity"> Resume updated {{selectedCandidate.dateResumeLastUpdated | timeAgo}}</div>
      </div>
    </div>
  </mat-card>

  <mat-tab-group mat-stretch-tabs class="example-stretched-tabs mat-elevation-z4 pt-4">
    <mat-tab *ngIf="selectedCandidate.skills" label="Skills">
      <mat-grid-list class="grid-list" cols="5" rowHeight="7:1">
        <mat-grid-tile class="grid-tile pl-2" *ngFor="let tech of selectedCandidate.skills">{{tech.skill}}
          <span *ngIf="tech.yearsUsed" class="grid-sub-tile">{{tech.yearsUsed}} yrs</span><span
            class="grid-right-tile">{{tech.lastUsed}}</span>
        </mat-grid-tile>
      </mat-grid-list>
    </mat-tab>
    <mat-tab *ngIf="selectedCandidate.experience" label="Work History">
      <mat-list>
        <mat-list-item *ngFor="let workHistory of selectedCandidate.experience.history">
          <h3 matLine> {{workHistory.title}}, {{workHistory.org}} </h3>
          <p matLine>
            <span class="list-hint" *ngIf="workHistory.periodStart">
              {{workHistory.periodStart.year}}-{{workHistory.periodEnd.year}},
            </span>
            <span *ngIf="workHistory.location">{{workHistory.location}}</span>
          </p>
        </mat-list-item>
      </mat-list>
    </mat-tab>
    <mat-tab label="Summary"> Content 3 </mat-tab>
    <!-- <mat-tab label="Social"> Content 3 </mat-tab> -->
    <mat-tab *ngIf="selectedCandidate.workPreferences" label="Work Perferences">
      <div class="col-7 candidate-work mt-2 ">
        <div class="row">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Relocate:</strong>
          </div>
          <div class="col-6">
            <span *ngIf="selectedCandidate.workPreferences[0].willingToRelocate; else noRelocate"> Yes</span>
            <ng-template #noRelocate>
              No
            </ng-template>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Preferred Location:</strong>
          </div>
          <div class="col-8">
            <!-- <span *ngIf="selectedCandidate.workPreferences[0].willingToRelocate; else noRelocate"> Yes</span>
            <ng-template #noRelocate>
              No
            </ng-template> -->
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Work Authorization:</strong>
          </div>
          <div class="col-6">
            <span>{{selectedCandidate.workPermitLocations}}</span>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Desired Hourly Rate:</strong>
          </div>
          <div class="col-6">
            <span *ngFor="let hourRate of selectedCandidate.workPreferences">
              <span *ngIf="hourRate.hourlyRate">
                <span>{{hourRate.hourlyRate.min}}+ ({{hourRate.hourlyRate.currency}})</span>
              </span>
            </span>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Desired Salary:</strong>
          </div>
          <div class="col-6">
            <span *ngFor="let salary of selectedCandidate.workPreferences">
              <span *ngIf="salary.annualSalary">
                <span>{{salary.annualSalary.min}}+ ({{salary.annualSalary.currency}})</span>
              </span>
            </span>
          </div>
        </div>
        <div class="row mt-2">
          <div class="col-4">
            <strong style="padding-top: 4px; font-weight: 100;">Security Allowance :</strong>
          </div>
          <div class="col-6">
            <span *ngIf="selectedCandidate.securityAllowance">
              <span *ngIf="selectedCandidate.securityAllowance.status; else noSecurityAllowance">
                Yes
              </span>
              <ng-template #noSecurityAllowance>
                No
              </ng-template>
            </span>
          </div>
        </div>

      </div>
    </mat-tab>
    <mat-tab *ngIf="selectedCandidate.resume" label="Resume">
      <iframe [src]="candidateResume | safe" height="100%" width="100%"> </iframe>
    </mat-tab>
  </mat-tab-group>


</div>